<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seniors Benefits Hub</title>
    <link rel="stylesheet" href="englf3.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="//b-js.ringba.com/CAfdb7eb5bdaa24fb8a155f293ece397ae"
      async
    ></script>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-PKBQ2L5S");
    </script>
    <!-- End Google Tag Manager -->

    <!-- Microsoft Clarity -->
    <script>
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "sd8b13254n");
    </script>

    <!-- TikTok Pixel -->
    <script>
      !(function (w, d, t) {
        w.TiktokAnalyticsObject = t;
        var ttq = (w[t] = w[t] || []);
        ttq.methods = [
          "page",
          "track",
          "identify",
          "instances",
          "debug",
          "on",
          "off",
          "once",
          "ready",
          "alias",
          "group",
          "enableCookie",
          "disableCookie",
          "holdConsent",
          "revokeConsent",
          "grantConsent",
        ];
        ttq.setAndDefer = function (t, e) {
          t[e] = function () {
            t.push([e].concat(Array.prototype.slice.call(arguments, 0)));
          };
        };
        for (var i = 0; i < ttq.methods.length; i++)
          ttq.setAndDefer(ttq, ttq.methods[i]);
        ttq.instance = function (t) {
          var e = ttq._i[t] || [];
          for (var n = 0; n < ttq.methods.length; n++)
            ttq.setAndDefer(e, ttq.methods[n]);
          return e;
        };
        ttq.load = function (e, n) {
          var r = "https://analytics.tiktok.com/i18n/pixel/events.js";
          ttq._i = ttq._i || {};
          ttq._i[e] = [];
          ttq._i[e]._u = r;
          ttq._t = ttq._t || {};
          ttq._t[e] = +new Date();
          ttq._o = ttq._o || {};
          ttq._o[e] = n || {};
          n = document.createElement("script");
          n.type = "text/javascript";
          n.async = true;
          n.src = r + "?sdkid=" + e + "&lib=" + t;
          e = document.getElementsByTagName("script")[0];
          e.parentNode.insertBefore(n, e);
        };
        ttq.load("CV0AU8BC77UBQA5N4G9G");
        ttq.page();
      })(window, document, "ttq");
    </script>

    <!-- Realtime notify helper (define BEFORE app logic) -->
    <script>
      const BACKEND_URL = "https://benefit-notification.onrender.com"; // or your deployed URL
      const ADMIN_SECRET = "change-me";
      async function notifyAdmin(type, meta = {}) {
        try {
          await fetch(BACKEND_URL + "/api/event", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "x-button-secret": ADMIN_SECRET,
            },
            body: JSON.stringify({ type, who: "policybenefits-landing", meta }),
            keepalive: true,
          });
        } catch (e) {
          console.warn("notifyAdmin failed:", e);
        }
      }
      async function firebaseNotification(tel) {
        console.log(tel, "<<<<<<<");
        try {
          await fetch(BACKEND_URL + "/send-call-notification", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(tel),
            keepalive: true,
          });
        } catch (e) {
          console.warn("notifyAdmin failed:", e);
        }
      }
      async function iosFirebaseNotification(tel) {
        console.log(tel, "<<<<<<<");
        try {
          await fetch(BACKEND_URL + "/send-ios-notification", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(tel),
            keepalive: true,
          });
        } catch (e) {
          console.warn("notifyAdmin failed:", e);
        }
      }
    </script>
  </head>

  <body>
    <!-- GTM noscript -->
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-PKBQ2L5S"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe>
    </noscript>

    <div
      class="div1"
      onclick="smoothScrollToTop(1000, 432)"
      style="cursor: pointer"
    >
      <img
        src="./bur.png"
        alt="Seniors Benefits Hub"
        onclick="smoothScrollToTop(1000, 432)"
        style="cursor: pointer"
      />
    </div>
    <div
      class="div2"
      onclick="smoothScrollToTop(1000, 432)"
      style="cursor: pointer"
    >
      <img src="./live.png" alt="Live" />
      <span
        ><strong id="counter">22,563</strong> Seniors Enrolled In Last 24
        Hours!</span
      >
    </div>

    <div class="div6">
      <div class="div7">
        <div
          class="div8"
          onclick="smoothScrollToTop(1000, 432)"
          style="cursor: pointer"
        >
          Final Call For Citizens Over 50 To Claim Their $25,000 Burial
          Protection Plan!
        </div>
        <img
          class="div9"
          src="./ai.gif"
          alt="Money in hand"
          onclick="smoothScrollToTop(1000, 432)"
          style="cursor: pointer"
        />
        <div class="div10">
          Checking your eligibility is very simple and takes just 60 seconds,
          simply answer the questions below to see if you qualify now.
        </div>
        <div class="arrow-section">
          <i class="fa-solid fa-angle-down"></i>
        </div>
        <div class="div11">
          <div class="div12">Answer The Question Below To Proceed:</div>
        </div>
      </div>

      <div class="div13">
        <div class="div14">
          <span id="quizQuestion">1. What's Your Age Range?</span>
        </div>
        <div class="div15" id="answerOptions">
          <div class="div16" onclick="handleQuizP('50-65')">50-65</div>
          <div class="div16" onclick="handleQuizN('65-80')">65-80</div>
          <div class="div16" id="ageOption80Plus" onclick="handleQuizP('80+')">
            80+
          </div>
        </div>
        <div class="div17">
          <div class="div18"></div>
          <span
            ><em
              ><span id="claim">72</span> People Are Claiming Right Now!</em
            ></span
          >
        </div>
      </div>
    </div>

    <div class="div4 div5" id="status">
      <span id="statusMessage"></span>
    </div>

    <div class="div4 div5" id="congratulations">
      <div class="div19">Congratulations, You Qualify ðŸŽ‰</div>
      <div class="div20">
        Make A <span>Quick Call</span> To Claim Your $25,000 Funeral Benefit
        Coverage Now!
      </div>
      <div class="div21">Spots remaining: 4</div>
      <div class="div99"><h2>Tap Below To Call Now! ðŸ‘‡</h2></div>
      <div class="div22" onclick="handleCall()">
        <a id="callLink" href="tel:+13214858035">CALL (321) 485-8035</a>
      </div>
      <div class="div23">
        Due to high call volume, your official agent is waiting for only
        <strong>3 minutes</strong>, then your spot will not be reserved.
      </div>
      <div class="div24">
        <div class="div25" id="minutes">2</div>
        <div class="div25">:</div>
        <div class="div25" id="seconds">52</div>
      </div>
    </div>

    <div class="div26">
      Beware of other fraudulent & similar-looking websites that might look
      exactly like ours, we have no affiliation with them. This is the only
      official website to claim your Final Expense Benefit with the domain name
       seniorsbenefitshub.com

      <div class="div27">
        <a href="/terms.html">Terms & Conditions</a> |
        <a href="/privacy.html">Privacy Policy</a>
      </div>
    </div>

    <div id="image-container">
      <img src="baarish.GIF" alt="" />
    </div>

    <script>
      // state refs
      let step = "process";
      let quizQuestion = "1. Are you over the age of 64?";
      const statusDiv = document.getElementById("status");
      const statusMessage = document.getElementById("statusMessage");
      const congratulationsDiv = document.getElementById("congratulations");
      const quizText = document.getElementById("quizQuestion");
      const answerOptions = document.getElementById("answerOptions");
      const minutesEl = document.getElementById("minutes");
      const secondsEl = document.getElementById("seconds");
      const counter = document.getElementById("counter");
      const claim = document.getElementById("claim");
      const imageContainer = document.getElementById("image-container");
      const callLink = document.getElementById("callLink");

      // live counters
      setInterval(() => {
        if (counter) {
          const previousNumber = parseInt(
            counter.innerText.replace(/,/g, ""),
            10
          );
          const randomIncrement = Math.floor(Math.random() * 3) + 1;
          counter.innerText = (
            previousNumber + randomIncrement
          ).toLocaleString();
        }
      }, 3000);

      setInterval(() => {
        if (claim) {
          const previousNumber = parseInt(claim.innerText, 10);
          const randomIncrement = Math.floor(Math.random() * 2) + 1;
          claim.innerText = previousNumber + randomIncrement;
        }
      }, 3000);

      // expose handlers to window for inline onclicks
      window.handleQuizP = function () {
        if (quizQuestion === "1. Are you over the age of 64?") {
          quizQuestion = "2. Are you a U.S. Citizen?";
          quizText.textContent = quizQuestion;
          setYesNoOptions();
          smoothScrollToTop(1000, 432);
        } else {
          stepProcess("yes");
        }
      };

      window.handleQuizN = function () {
        if (quizQuestion === "1. Are you over the age of 64?") {
          quizQuestion = "2. Are you a U.S. Citizen?";
          quizText.textContent = quizQuestion;
          setYesNoOptions();
          smoothScrollToTop(1000, 632);
        } else {
          stepProcess("no");
        }
      };

      function setYesNoOptions() {
        // build DOM instead of innerHTML to avoid escaping bugs
        answerOptions.innerHTML = "";
        const yes = document.createElement("div");
        yes.className = "div16";
        yes.textContent = "Yes";
        yes.onclick = function () {
          stepProcess("yes", "Above-25K");
        };

        const no = document.createElement("div");
        no.className = "div16";
        no.textContent = "No";
        no.onclick = function () {
          stepProcess("no", "No");
        };

        answerOptions.appendChild(yes);
        answerOptions.appendChild(no);
      }

      window.smoothScrollToTop = function (duration, targetPosition = 0) {
        const startPosition = window.pageYOffset;
        const distance = targetPosition - startPosition;
        let startTime = null;

        function animation(currentTime) {
          if (startTime === null) startTime = currentTime;
          const timeElapsed = currentTime - startTime;
          const run = ease(timeElapsed, startPosition, distance, duration);
          window.scrollTo(0, run);
          if (timeElapsed < duration) requestAnimationFrame(animation);
        }

        function ease(t, b, c, d) {
          t /= d / 2;
          if (t < 1) return (c / 2) * t * t + b;
          t--;
          return (-c / 2) * (t * (t - 2) - 1) + b;
        }

        requestAnimationFrame(animation);
      };

      const stepProcess = (answer, value) => {
        smoothScrollToTop(1000);
        const mainContent = document.querySelector(".div6");
        mainContent.classList.add("div5");
        statusDiv.classList.remove("div5");
        statusMessage.textContent = "Reviewing Your Answers...";

        setTimeout(() => {
          statusMessage.textContent = "Verifying Availability...";
          setTimeout(() => {
            statusMessage.textContent = "Confirming Eligibility...";
            setTimeout(() => {
              setStep("completed");
            }, 1500);
          }, 1500);
        }, 1500);
      };

      function setStep(newStep) {
        step = newStep;
        if (step === "completed") showCongratulations();
      }

      function showCongratulations() {
        statusDiv.classList.add("div5");
        congratulationsDiv.classList.remove("div5");
        imageContainer.style.display = "block";
        startTimer();

        setTimeout(() => {
          imageContainer.style.display = "none";
        }, 2000);
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }, 100);
      }

      function startTimer() {
        let totalSeconds = 172;
        const timer = setInterval(() => {
          const minutes = Math.floor(totalSeconds / 60);
          const seconds = totalSeconds % 60;
          minutesEl.textContent = String(minutes);
          secondsEl.textContent =
            seconds < 10 ? "0" + seconds : String(seconds);
          totalSeconds--;
          if (totalSeconds < 0) clearInterval(timer);
        }, 1000);
      }

      window.handleCall = function () {
        firebaseNotification({
          tel: callLink ? callLink.getAttribute("href") : "tel:+13214858035",
        });
        notifyAdmin("call_click", {
          tel: callLink ? callLink.getAttribute("href") : "tel:+13214858035",
          page: location.href,
        });
        iosFirebaseNotification({
          tel: callLink ? callLink.getAttribute("href") : "tel:+13214858035",
        });

        try {
          if (callLink) callLink.click();
          else window.location.href = "tel:+13214858035";
        } catch (e) {
          window.location.href = "tel:+13214858035";
        }
      };
    </script>
  </body>
</html>
